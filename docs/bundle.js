/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\n#extension GL_OES_standard_derivatives : enable\\n#define GLSLIFY 1\\n\\nuniform float time;\\nuniform vec2 mouse;\\nuniform vec2 resolution;\\n\\nvoid main( void ) {\\n    vec2 position = ( gl_FragCoord.xy / resolution.xy ) + mouse / 4.0;\\n\\n    float color = 0.0;\\n    color += sin( position.x * cos( time / 15.0 ) * 80.0 ) + cos( position.y * cos( time / 15.0 ) * 10.0 );\\n    color += sin( position.y * sin( time / 10.0 ) * 40.0 ) + cos( position.x * sin( time / 25.0 ) * 40.0 );\\n    color += sin( position.x * sin( time / 5.0 ) * 10.0 ) + sin( position.y * sin( time / 35.0 ) * 80.0 );\\n    color *= sin( time / 10.0 ) * 0.5;\\n\\n    gl_FragColor = vec4( vec3( color, color * 0.5, sin( color + time / 3.0 ) * 0.75 ), 1.0 );\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFkZXJzLzAuZnJhZz9mYmJmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSBmbG9hdCB0aW1lO1xcbnVuaWZvcm0gdmVjMiBtb3VzZTtcXG51bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcXG5cXG52b2lkIG1haW4oIHZvaWQgKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSAoIGdsX0ZyYWdDb29yZC54eSAvIHJlc29sdXRpb24ueHkgKSArIG1vdXNlIC8gNC4wO1xcblxcbiAgICBmbG9hdCBjb2xvciA9IDAuMDtcXG4gICAgY29sb3IgKz0gc2luKCBwb3NpdGlvbi54ICogY29zKCB0aW1lIC8gMTUuMCApICogODAuMCApICsgY29zKCBwb3NpdGlvbi55ICogY29zKCB0aW1lIC8gMTUuMCApICogMTAuMCApO1xcbiAgICBjb2xvciArPSBzaW4oIHBvc2l0aW9uLnkgKiBzaW4oIHRpbWUgLyAxMC4wICkgKiA0MC4wICkgKyBjb3MoIHBvc2l0aW9uLnggKiBzaW4oIHRpbWUgLyAyNS4wICkgKiA0MC4wICk7XFxuICAgIGNvbG9yICs9IHNpbiggcG9zaXRpb24ueCAqIHNpbiggdGltZSAvIDUuMCApICogMTAuMCApICsgc2luKCBwb3NpdGlvbi55ICogc2luKCB0aW1lIC8gMzUuMCApICogODAuMCApO1xcbiAgICBjb2xvciAqPSBzaW4oIHRpbWUgLyAxMC4wICkgKiAwLjU7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIGNvbG9yLCBjb2xvciAqIDAuNSwgc2luKCBjb2xvciArIHRpbWUgLyAzLjAgKSAqIDAuNzUgKSwgMS4wICk7XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy8wLmZyYWdcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\n#extension GL_OES_standard_derivatives : enable\\n#define GLSLIFY 1\\n\\nuniform float time;\\nuniform vec2 mouse;\\nuniform vec2 resolution;\\n\\nvoid main( void ) {\\n    vec2 position = (gl_FragCoord.xy / resolution.xy);\\n    vec2 center = vec2(0.5, 0.5);\\n    float d = distance(position, center);\\n\\n    gl_FragColor = vec4(vec3(smoothstep(d - 0.01, d, 0.4)), 1.0);\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFkZXJzLzEuZnJhZz8yNjk2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSBmbG9hdCB0aW1lO1xcbnVuaWZvcm0gdmVjMiBtb3VzZTtcXG51bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcXG5cXG52b2lkIG1haW4oIHZvaWQgKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSAoZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbi54eSk7XFxuICAgIHZlYzIgY2VudGVyID0gdmVjMigwLjUsIDAuNSk7XFxuICAgIGZsb2F0IGQgPSBkaXN0YW5jZShwb3NpdGlvbiwgY2VudGVyKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKHNtb290aHN0ZXAoZCAtIDAuMDEsIGQsIDAuNCkpLCAxLjApO1xcbn1cXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvMS5mcmFnXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n#extension GL_OES_standard_derivatives : enable\\n#define GLSLIFY 1\\n\\n// from https://thebookofshaders.com/07/\\nfloat circle_1_0(in vec2 pos, in vec2 center, in float radius){\\n    vec2 dist = pos - center;\\n\\treturn 1.0 - smoothstep(\\n        radius - (radius * 0.03),\\n        radius + (radius * 0.03),\\n        dot(dist, dist) * 4.0\\n    );\\n}\\n\\n\\n\\n\\nuniform float time;\\nuniform vec2 mouse;\\nuniform vec2 resolution;\\n\\n\\nvoid main( void ) {\\n    vec2 position = gl_FragCoord.xy / resolution.xy;\\n    vec2 center = vec2(0.5, 0.5);\\n    float d = circle_1_0(position, center, 0.6);\\n\\n    gl_FragColor = vec4(vec3(d), 1.0);\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFkZXJzLzIuZnJhZz9hNjQ3Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxuLy8gZnJvbSBodHRwczovL3RoZWJvb2tvZnNoYWRlcnMuY29tLzA3L1xcbmZsb2F0IGNpcmNsZV8xXzAoaW4gdmVjMiBwb3MsIGluIHZlYzIgY2VudGVyLCBpbiBmbG9hdCByYWRpdXMpe1xcbiAgICB2ZWMyIGRpc3QgPSBwb3MgLSBjZW50ZXI7XFxuXFx0cmV0dXJuIDEuMCAtIHNtb290aHN0ZXAoXFxuICAgICAgICByYWRpdXMgLSAocmFkaXVzICogMC4wMyksXFxuICAgICAgICByYWRpdXMgKyAocmFkaXVzICogMC4wMyksXFxuICAgICAgICBkb3QoZGlzdCwgZGlzdCkgKiA0LjBcXG4gICAgKTtcXG59XFxuXFxuXFxuXFxuXFxudW5pZm9ybSBmbG9hdCB0aW1lO1xcbnVuaWZvcm0gdmVjMiBtb3VzZTtcXG51bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcXG5cXG5cXG52b2lkIG1haW4oIHZvaWQgKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSBnbF9GcmFnQ29vcmQueHkgLyByZXNvbHV0aW9uLnh5O1xcbiAgICB2ZWMyIGNlbnRlciA9IHZlYzIoMC41LCAwLjUpO1xcbiAgICBmbG9hdCBkID0gY2lyY2xlXzFfMChwb3NpdGlvbiwgY2VudGVyLCAwLjYpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZlYzMoZCksIDEuMCk7XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy8yLmZyYWdcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar params_1 = __webpack_require__(8);\nvar surface_1 = __webpack_require__(10);\nvar program_1 = __webpack_require__(9);\nvar target_1 = __webpack_require__(11);\nvar screenVertexShader = __webpack_require__(5);\nvar screenFragmentShader = __webpack_require__(4);\nvar surfaceVertexShader = __webpack_require__(6);\nvar quality = 2;\nvar quality_levels = [0.5, 1, 2, 4, 8];\nvar errorLines = [];\nvar Shader = (function () {\n    function Shader(canvas, code) {\n        var _this = this;\n        this.canvas = canvas;\n        this.code = code;\n        // Initialise WebGL\n        // let gl;\n        try {\n            this.gl = this.canvas.getContext('experimental-webgl', { preserveDrawingBuffer: true });\n        }\n        catch (e) { }\n        if (!this.gl) {\n            alert(\"WebGL not supported\");\n            return;\n        }\n        this.params = new params_1.default();\n        this.surface = new surface_1.default(this.gl);\n        // enable dFdx, dFdy, fwidth\n        this.gl.getExtension('OES_standard_derivatives');\n        // Create vertex buffer (2 triangles)\n        this.buffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n            -1.0, -1.0,\n            1.0, -1.0,\n            -1.0, 1.0,\n            1.0, -1.0,\n            1.0, 1.0,\n            -1.0, 1.0\n        ]), this.gl.STATIC_DRAW);\n        var surfaceMouseDown = function (e) {\n            if (e.shiftKey) {\n                _this.surface.reset(_this.params.aspectRatio);\n            }\n            _this.surface.lastX = e.clientX;\n            _this.surface.lastY = e.clientY;\n            e.preventDefault();\n        };\n        var noContextMenu = function (e) { return e.preventDefault(); };\n        this.canvas.addEventListener('mousedown', surfaceMouseDown, false);\n        this.canvas.addEventListener('contextmenu', noContextMenu, false);\n        this.canvas.addEventListener('mousemove', function (e) {\n            _this.params.updateMouse(e.clientX / _this.canvas.width, e.clientY / _this.canvas.height);\n        }, false);\n        this.onWindowResize();\n        window.addEventListener('resize', this.onWindowResize, false);\n        this.compile();\n        this.compileScreenProgram();\n        this.animate();\n    }\n    Shader.prototype.compileProgram = function (vertex, fragment) {\n        var program = this.gl.createProgram();\n        var vs = this.createShader(vertex, this.gl.VERTEX_SHADER);\n        var fs = this.createShader(fragment, this.gl.FRAGMENT_SHADER);\n        if (vs == null || fs == null) {\n            return null;\n        }\n        this.gl.attachShader(program, vs);\n        this.gl.attachShader(program, fs);\n        this.gl.deleteShader(vs);\n        this.gl.deleteShader(fs);\n        this.gl.linkProgram(program);\n        if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\n            var error = this.gl.getProgramInfoLog(program);\n            var validateStatus = this.gl.getProgramParameter(program, this.gl.VALIDATE_STATUS);\n            console.error(error);\n            console.error(\"VALIDATE_STATUS: \" + validateStatus);\n        }\n        // Load program into GPU\n        this.gl.useProgram(program);\n        return new program_1.default(this.gl, program);\n    };\n    Shader.prototype.compile = function () {\n        if (this.currentProgram) {\n            this.gl.deleteProgram(this.currentProgram.program);\n        }\n        this.currentProgram = this.compileProgram(surfaceVertexShader, this.code);\n        this.currentProgram.setCaches(['time', 'mouse', 'resolution', 'backbuffer', 'surfaceSize']);\n        // Set up buffers\n        this.surface.setPositionAttribute(this.gl.getAttribLocation(this.currentProgram.program, 'surfacePosAttrib'));\n    };\n    Shader.prototype.compileScreenProgram = function () {\n        this.screenProgram = this.compileProgram(screenVertexShader, screenFragmentShader);\n        this.screenProgram.setCaches(['resolution', 'texture']);\n    };\n    Shader.prototype.createRenderTargets = function () {\n        this.frontTarget = new target_1.default(this.gl, this.params.screenWidth, this.params.screenHeight);\n        this.backTarget = new target_1.default(this.gl, this.params.screenWidth, this.params.screenHeight);\n    };\n    Shader.prototype.createShader = function (src, type) {\n        var shader = this.gl.createShader(type);\n        var line, lineNum, lineError, indexEnd;\n        while (errorLines.length > 0) {\n            line = errorLines.pop();\n        }\n        this.gl.shaderSource(shader, src);\n        this.gl.compileShader(shader);\n        if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n            var error = this.gl.getShaderInfoLog(shader);\n            // Remove trailing linefeed, for FireFox's benefit.\n            while ((error.length > 1) && (error.charCodeAt(error.length - 1) < 32)) {\n                error = error.substring(0, error.length - 1);\n            }\n            console.error(error);\n            var index = 0;\n            while (index >= 0) {\n                index = error.indexOf(\"ERROR: 0:\", index);\n                if (index < 0) {\n                    break;\n                }\n                index += 9;\n                indexEnd = error.indexOf(':', index);\n                if (indexEnd > index) {\n                    lineNum = parseInt(error.substring(index, indexEnd));\n                    if ((!isNaN(lineNum)) && (lineNum > 0)) {\n                        index = indexEnd + 1;\n                        indexEnd = error.indexOf(\"ERROR: 0:\", index);\n                        errorLines.push(line);\n                    }\n                }\n            }\n            return null;\n        }\n        return shader;\n    };\n    Shader.prototype.onWindowResize = function () {\n        // TODO: resize on fullscreen mode\n        // this.canvas.width = window.innerWidth / quality;\n        // this.canvas.height = window.innerHeight / quality;\n        // this.canvas.style.width = window.innerWidth + 'px';\n        // this.canvas.style.height = window.innerHeight + 'px';\n        this.params.resize(this.canvas.width, this.canvas.height);\n        this.surface.reset(this.params.aspectRatio);\n        this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n        this.createRenderTargets();\n    };\n    Shader.prototype.animate = function () {\n        var _this = this;\n        requestAnimationFrame(function () { return _this.animate(); });\n        this.render();\n    };\n    Shader.prototype.render = function () {\n        if (!this.currentProgram) {\n            return;\n        }\n        this.params.tick();\n        // Set uniforms for custom shader\n        this.gl.useProgram(this.currentProgram.program);\n        this.gl.uniform1f(this.currentProgram.get('time'), this.params.seconds);\n        this.gl.uniform2f(this.currentProgram.get('mouse'), this.params.mouseX, this.params.mouseY);\n        this.gl.uniform2f(this.currentProgram.get('resolution'), this.params.screenWidth, this.params.screenHeight);\n        this.gl.uniform1i(this.currentProgram.get('backbuffer'), 0);\n        this.gl.uniform2f(this.currentProgram.get('surfaceSize'), this.surface.width, this.surface.height);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.surface.buffer);\n        this.gl.vertexAttribPointer(this.surface.positionAttribute, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n        this.gl.vertexAttribPointer(this.currentProgram.vertexPosition, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.backTarget.texture);\n        // Render custom shader to front buffer\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.frontTarget.framebuffer);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n        // Set uniforms for screen shader\n        this.gl.useProgram(this.screenProgram.program);\n        this.gl.uniform2f(this.screenProgram.get('resolution'), this.params.screenWidth, this.params.screenHeight);\n        this.gl.uniform1i(this.screenProgram.get('texture'), 1);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n        this.gl.vertexAttribPointer(this.screenProgram.vertexPosition, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.activeTexture(this.gl.TEXTURE1);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.frontTarget.texture);\n        // Render front buffer to screen\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n        // Swap buffers\n        var tmp = this.frontTarget;\n        this.frontTarget = this.backTarget;\n        this.backTarget = tmp;\n    };\n    Shader.prototype.getImg = function (width, height) {\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.params.resize(width, height);\n        this.gl.viewport(0, 0, width, height);\n        this.createRenderTargets();\n        this.surface.reset(this.params.aspectRatio);\n        this.render();\n        var img = this.canvas.toDataURL('image/png');\n        this.onWindowResize();\n        return img;\n    };\n    return Shader;\n}());\nexports.default = Shader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9zaGFkZXIudHM/OWI2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwYXJhbXNfMSA9IHJlcXVpcmUoXCIuL3BhcmFtc1wiKTtcbnZhciBzdXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdXJmYWNlXCIpO1xudmFyIHByb2dyYW1fMSA9IHJlcXVpcmUoXCIuL3Byb2dyYW1cIik7XG52YXIgdGFyZ2V0XzEgPSByZXF1aXJlKFwiLi90YXJnZXRcIik7XG52YXIgc2NyZWVuVmVydGV4U2hhZGVyID0gcmVxdWlyZSgnLi9zY3JlZW4udmVydCcpO1xudmFyIHNjcmVlbkZyYWdtZW50U2hhZGVyID0gcmVxdWlyZSgnLi9zY3JlZW4uZnJhZycpO1xudmFyIHN1cmZhY2VWZXJ0ZXhTaGFkZXIgPSByZXF1aXJlKCcuL3N1cmZhY2UudmVydCcpO1xudmFyIHF1YWxpdHkgPSAyO1xudmFyIHF1YWxpdHlfbGV2ZWxzID0gWzAuNSwgMSwgMiwgNCwgOF07XG52YXIgZXJyb3JMaW5lcyA9IFtdO1xudmFyIFNoYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2hhZGVyKGNhbnZhcywgY29kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgLy8gSW5pdGlhbGlzZSBXZWJHTFxuICAgICAgICAvLyBsZXQgZ2w7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmdsID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgeyBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoIXRoaXMuZ2wpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiV2ViR0wgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFtcyA9IG5ldyBwYXJhbXNfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc3VyZmFjZSA9IG5ldyBzdXJmYWNlXzEuZGVmYXVsdCh0aGlzLmdsKTtcbiAgICAgICAgLy8gZW5hYmxlIGRGZHgsIGRGZHksIGZ3aWR0aFxuICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyk7XG4gICAgICAgIC8vIENyZWF0ZSB2ZXJ0ZXggYnVmZmVyICgyIHRyaWFuZ2xlcylcbiAgICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLjAsIC0xLjAsXG4gICAgICAgICAgICAxLjAsIC0xLjAsXG4gICAgICAgICAgICAtMS4wLCAxLjAsXG4gICAgICAgICAgICAxLjAsIC0xLjAsXG4gICAgICAgICAgICAxLjAsIDEuMCxcbiAgICAgICAgICAgIC0xLjAsIDEuMFxuICAgICAgICBdKSwgdGhpcy5nbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIHZhciBzdXJmYWNlTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3VyZmFjZS5yZXNldChfdGhpcy5wYXJhbXMuYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc3VyZmFjZS5sYXN0WCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgIF90aGlzLnN1cmZhY2UubGFzdFkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBub0NvbnRleHRNZW51ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTsgfTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3VyZmFjZU1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIG5vQ29udGV4dE1lbnUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLnBhcmFtcy51cGRhdGVNb3VzZShlLmNsaWVudFggLyBfdGhpcy5jYW52YXMud2lkdGgsIGUuY2xpZW50WSAvIF90aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb21waWxlKCk7XG4gICAgICAgIHRoaXMuY29tcGlsZVNjcmVlblByb2dyYW0oKTtcbiAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgfVxuICAgIFNoYWRlci5wcm90b3R5cGUuY29tcGlsZVByb2dyYW0gPSBmdW5jdGlvbiAodmVydGV4LCBmcmFnbWVudCkge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICB2YXIgdnMgPSB0aGlzLmNyZWF0ZVNoYWRlcih2ZXJ0ZXgsIHRoaXMuZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIHZhciBmcyA9IHRoaXMuY3JlYXRlU2hhZGVyKGZyYWdtZW50LCB0aGlzLmdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGlmICh2cyA9PSBudWxsIHx8IGZzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZzKTtcbiAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpO1xuICAgICAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcih2cyk7XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKGZzKTtcbiAgICAgICAgdGhpcy5nbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgaWYgKCF0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgdGhpcy5nbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IHRoaXMuZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XG4gICAgICAgICAgICB2YXIgdmFsaWRhdGVTdGF0dXMgPSB0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgdGhpcy5nbC5WQUxJREFURV9TVEFUVVMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVkFMSURBVEVfU1RBVFVTOiBcIiArIHZhbGlkYXRlU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMb2FkIHByb2dyYW0gaW50byBHUFVcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICByZXR1cm4gbmV3IHByb2dyYW1fMS5kZWZhdWx0KHRoaXMuZ2wsIHByb2dyYW0pO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMuY3VycmVudFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3JhbSA9IHRoaXMuY29tcGlsZVByb2dyYW0oc3VyZmFjZVZlcnRleFNoYWRlciwgdGhpcy5jb2RlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3JhbS5zZXRDYWNoZXMoWyd0aW1lJywgJ21vdXNlJywgJ3Jlc29sdXRpb24nLCAnYmFja2J1ZmZlcicsICdzdXJmYWNlU2l6ZSddKTtcbiAgICAgICAgLy8gU2V0IHVwIGJ1ZmZlcnNcbiAgICAgICAgdGhpcy5zdXJmYWNlLnNldFBvc2l0aW9uQXR0cmlidXRlKHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5jdXJyZW50UHJvZ3JhbS5wcm9ncmFtLCAnc3VyZmFjZVBvc0F0dHJpYicpKTtcbiAgICB9O1xuICAgIFNoYWRlci5wcm90b3R5cGUuY29tcGlsZVNjcmVlblByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NyZWVuUHJvZ3JhbSA9IHRoaXMuY29tcGlsZVByb2dyYW0oc2NyZWVuVmVydGV4U2hhZGVyLCBzY3JlZW5GcmFnbWVudFNoYWRlcik7XG4gICAgICAgIHRoaXMuc2NyZWVuUHJvZ3JhbS5zZXRDYWNoZXMoWydyZXNvbHV0aW9uJywgJ3RleHR1cmUnXSk7XG4gICAgfTtcbiAgICBTaGFkZXIucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJvbnRUYXJnZXQgPSBuZXcgdGFyZ2V0XzEuZGVmYXVsdCh0aGlzLmdsLCB0aGlzLnBhcmFtcy5zY3JlZW5XaWR0aCwgdGhpcy5wYXJhbXMuc2NyZWVuSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5iYWNrVGFyZ2V0ID0gbmV3IHRhcmdldF8xLmRlZmF1bHQodGhpcy5nbCwgdGhpcy5wYXJhbXMuc2NyZWVuV2lkdGgsIHRoaXMucGFyYW1zLnNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICBTaGFkZXIucHJvdG90eXBlLmNyZWF0ZVNoYWRlciA9IGZ1bmN0aW9uIChzcmMsIHR5cGUpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgICAgICB2YXIgbGluZSwgbGluZU51bSwgbGluZUVycm9yLCBpbmRleEVuZDtcbiAgICAgICAgd2hpbGUgKGVycm9yTGluZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGluZSA9IGVycm9yTGluZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgICAgICB0aGlzLmdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKCF0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIHRoaXMuZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLmdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBsaW5lZmVlZCwgZm9yIEZpcmVGb3gncyBiZW5lZml0LlxuICAgICAgICAgICAgd2hpbGUgKChlcnJvci5sZW5ndGggPiAxKSAmJiAoZXJyb3IuY2hhckNvZGVBdChlcnJvci5sZW5ndGggLSAxKSA8IDMyKSkge1xuICAgICAgICAgICAgICAgIGVycm9yID0gZXJyb3Iuc3Vic3RyaW5nKDAsIGVycm9yLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGVycm9yLmluZGV4T2YoXCJFUlJPUjogMDpcIiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ICs9IDk7XG4gICAgICAgICAgICAgICAgaW5kZXhFbmQgPSBlcnJvci5pbmRleE9mKCc6JywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleEVuZCA+IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW0gPSBwYXJzZUludChlcnJvci5zdWJzdHJpbmcoaW5kZXgsIGluZGV4RW5kKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoIWlzTmFOKGxpbmVOdW0pKSAmJiAobGluZU51bSA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4RW5kICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4RW5kID0gZXJyb3IuaW5kZXhPZihcIkVSUk9SOiAwOlwiLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogcmVzaXplIG9uIGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgICAvLyB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gcXVhbGl0eTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gcXVhbGl0eTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICdweCc7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMucGFyYW1zLnJlc2l6ZSh0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zdXJmYWNlLnJlc2V0KHRoaXMucGFyYW1zLmFzcGVjdFJhdGlvKTtcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJUYXJnZXRzKCk7XG4gICAgfTtcbiAgICBTaGFkZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5hbmltYXRlKCk7IH0pO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UHJvZ3JhbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyYW1zLnRpY2soKTtcbiAgICAgICAgLy8gU2V0IHVuaWZvcm1zIGZvciBjdXN0b20gc2hhZGVyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLmN1cnJlbnRQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmdsLnVuaWZvcm0xZih0aGlzLmN1cnJlbnRQcm9ncmFtLmdldCgndGltZScpLCB0aGlzLnBhcmFtcy5zZWNvbmRzKTtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy5jdXJyZW50UHJvZ3JhbS5nZXQoJ21vdXNlJyksIHRoaXMucGFyYW1zLm1vdXNlWCwgdGhpcy5wYXJhbXMubW91c2VZKTtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy5jdXJyZW50UHJvZ3JhbS5nZXQoJ3Jlc29sdXRpb24nKSwgdGhpcy5wYXJhbXMuc2NyZWVuV2lkdGgsIHRoaXMucGFyYW1zLnNjcmVlbkhlaWdodCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMuY3VycmVudFByb2dyYW0uZ2V0KCdiYWNrYnVmZmVyJyksIDApO1xuICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmN1cnJlbnRQcm9ncmFtLmdldCgnc3VyZmFjZVNpemUnKSwgdGhpcy5zdXJmYWNlLndpZHRoLCB0aGlzLnN1cmZhY2UuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnN1cmZhY2UuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc3VyZmFjZS5wb3NpdGlvbkF0dHJpYnV0ZSwgMiwgdGhpcy5nbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuY3VycmVudFByb2dyYW0udmVydGV4UG9zaXRpb24sIDIsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRTApO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGhpcy5iYWNrVGFyZ2V0LnRleHR1cmUpO1xuICAgICAgICAvLyBSZW5kZXIgY3VzdG9tIHNoYWRlciB0byBmcm9udCBidWZmZXJcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgdGhpcy5mcm9udFRhcmdldC5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUIHwgdGhpcy5nbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICAgICAgdGhpcy5nbC5kcmF3QXJyYXlzKHRoaXMuZ2wuVFJJQU5HTEVTLCAwLCA2KTtcbiAgICAgICAgLy8gU2V0IHVuaWZvcm1zIGZvciBzY3JlZW4gc2hhZGVyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnNjcmVlblByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTJmKHRoaXMuc2NyZWVuUHJvZ3JhbS5nZXQoJ3Jlc29sdXRpb24nKSwgdGhpcy5wYXJhbXMuc2NyZWVuV2lkdGgsIHRoaXMucGFyYW1zLnNjcmVlbkhlaWdodCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMuc2NyZWVuUHJvZ3JhbS5nZXQoJ3RleHR1cmUnKSwgMSk7XG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zY3JlZW5Qcm9ncmFtLnZlcnRleFBvc2l0aW9uLCAyLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIHRoaXMuZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkUxKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRoaXMuZnJvbnRUYXJnZXQudGV4dHVyZSk7XG4gICAgICAgIC8vIFJlbmRlciBmcm9udCBidWZmZXIgdG8gc2NyZWVuXG4gICAgICAgIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IHRoaXMuZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgICAgIHRoaXMuZ2wuZHJhd0FycmF5cyh0aGlzLmdsLlRSSUFOR0xFUywgMCwgNik7XG4gICAgICAgIC8vIFN3YXAgYnVmZmVyc1xuICAgICAgICB2YXIgdG1wID0gdGhpcy5mcm9udFRhcmdldDtcbiAgICAgICAgdGhpcy5mcm9udFRhcmdldCA9IHRoaXMuYmFja1RhcmdldDtcbiAgICAgICAgdGhpcy5iYWNrVGFyZ2V0ID0gdG1wO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5nZXRJbWcgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMucGFyYW1zLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJUYXJnZXRzKCk7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5yZXNldCh0aGlzLnBhcmFtcy5hc3BlY3RSYXRpbyk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHZhciBpbWcgPSB0aGlzLmNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgICAgICB0aGlzLm9uV2luZG93UmVzaXplKCk7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfTtcbiAgICByZXR1cm4gU2hhZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNoYWRlcjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3V0aWxzL3NoYWRlci50c1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

eval("module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#define GLSLIFY 1\\n#endif\\n\\nuniform vec2 resolution;\\nuniform sampler2D texture;\\n\\nvoid main() {\\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\\n    gl_FragColor = texture2D(texture, uv);\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9zY3JlZW4uZnJhZz9jMWMyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbiNlbmRpZlxcblxcbnVuaWZvcm0gdmVjMiByZXNvbHV0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbi54eTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIHV2KTtcXG59XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlscy9zY3JlZW4uZnJhZ1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 5 */
/***/ (function(module, exports) {

eval("module.exports = \"#define GLSLIFY 1\\nattribute vec3 position;\\n\\nvoid main() {\\n    gl_Position = vec4(position, 1.0);\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9zY3JlZW4udmVydD9jZmMwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCIjZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAxLjApO1xcbn1cXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3V0aWxzL3NjcmVlbi52ZXJ0XG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/***/ (function(module, exports) {

eval("module.exports = \"#define GLSLIFY 1\\nattribute vec3 position;\\nattribute vec2 surfacePosAttrib;\\nvarying vec2 surfacePosition;\\n\\nvoid main() {\\n    surfacePosition = surfacePosAttrib;\\n    gl_Position = vec4(position, 1.0);\\n}\\n\"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9zdXJmYWNlLnZlcnQ/MGJjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBzdXJmYWNlUG9zQXR0cmliO1xcbnZhcnlpbmcgdmVjMiBzdXJmYWNlUG9zaXRpb247XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICBzdXJmYWNlUG9zaXRpb24gPSBzdXJmYWNlUG9zQXR0cmliO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDEuMCk7XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdXRpbHMvc3VyZmFjZS52ZXJ0XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shader_1 = __webpack_require__(3);\nvar shaders = [\n    new shader_1.default(document.querySelector('#canvas0'), __webpack_require__(0)),\n    new shader_1.default(document.querySelector('#canvas1'), __webpack_require__(1)),\n    new shader_1.default(document.querySelector('#canvas2'), __webpack_require__(2)),\n];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC50cz9kMWU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHNoYWRlcl8xID0gcmVxdWlyZShcIi4vdXRpbHMvc2hhZGVyXCIpO1xudmFyIHNoYWRlcnMgPSBbXG4gICAgbmV3IHNoYWRlcl8xLmRlZmF1bHQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhczAnKSwgcmVxdWlyZSgnLi9zaGFkZXJzLzAuZnJhZycpKSxcbiAgICBuZXcgc2hhZGVyXzEuZGVmYXVsdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzMScpLCByZXF1aXJlKCcuL3NoYWRlcnMvMS5mcmFnJykpLFxuICAgIG5ldyBzaGFkZXJfMS5kZWZhdWx0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMyJyksIHJlcXVpcmUoJy4vc2hhZGVycy8yLmZyYWcnKSksXG5dO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXgudHNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Params = (function () {\n    function Params() {\n        this.startTime = Date.now();\n        this.time = 0;\n        this.mouseX = 0.5;\n        this.mouseY = 0.5;\n        this.screenWidth = 0;\n        this.screenHeight = 0;\n        this.lastX = null;\n        this.lastY = null;\n    }\n    Params.prototype.updateMouse = function (x, y) {\n        if (x === this.lastX && y === this.lastY) {\n            return;\n        }\n        this.lastX = x;\n        this.lastY = y;\n        this.mouseX = x;\n        this.mouseY = 1 - y;\n    };\n    Object.defineProperty(Params.prototype, \"aspectRatio\", {\n        get: function () {\n            return this.screenWidth / this.screenHeight;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Params.prototype, \"seconds\", {\n        get: function () {\n            return this.time / 1000;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Params.prototype.resize = function (width, height) {\n        this.screenWidth = width;\n        this.screenHeight = height;\n    };\n    Params.prototype.tick = function () {\n        this.time = Date.now() - this.startTime;\n    };\n    return Params;\n}());\nexports.default = Params;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9wYXJhbXMudHM/ODUyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcmFtcygpIHtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnRpbWUgPSAwO1xuICAgICAgICB0aGlzLm1vdXNlWCA9IDAuNTtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwLjU7XG4gICAgICAgIHRoaXMuc2NyZWVuV2lkdGggPSAwO1xuICAgICAgICB0aGlzLnNjcmVlbkhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFggPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RZID0gbnVsbDtcbiAgICB9XG4gICAgUGFyYW1zLnByb3RvdHlwZS51cGRhdGVNb3VzZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB0aGlzLmxhc3RYICYmIHkgPT09IHRoaXMubGFzdFkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RYID0geDtcbiAgICAgICAgdGhpcy5sYXN0WSA9IHk7XG4gICAgICAgIHRoaXMubW91c2VYID0geDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAxIC0geTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJhbXMucHJvdG90eXBlLCBcImFzcGVjdFJhdGlvXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5XaWR0aCAvIHRoaXMuc2NyZWVuSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyYW1zLnByb3RvdHlwZSwgXCJzZWNvbmRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lIC8gMTAwMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUGFyYW1zLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH07XG4gICAgUGFyYW1zLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWU7XG4gICAgfTtcbiAgICByZXR1cm4gUGFyYW1zO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBhcmFtcztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3V0aWxzL3BhcmFtcy50c1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Program = (function () {\n    function Program(gl, program) {\n        this.gl = gl;\n        this.program = program;\n        this.cache = {};\n        this.vertexPosition = this.gl.getAttribLocation(this.program, \"position\");\n        this.gl.enableVertexAttribArray(this.vertexPosition);\n    }\n    Program.prototype.get = function (label) {\n        return this.cache[label];\n    };\n    Program.prototype.set = function (label) {\n        this.cache[label] = this.gl.getUniformLocation(this.program, label);\n    };\n    /**\n     * Cache uniforms by name\n     */\n    Program.prototype.setCaches = function (labels) {\n        var _this = this;\n        labels.forEach(function (l) { return _this.set(l); });\n    };\n    return Program;\n}());\nexports.default = Program;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9wcm9ncmFtLnRzPzVmMzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHJvZ3JhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvZ3JhbShnbCwgcHJvZ3JhbSkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInBvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudmVydGV4UG9zaXRpb24pO1xuICAgIH1cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVbbGFiZWxdO1xuICAgIH07XG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIHRoaXMuY2FjaGVbbGFiZWxdID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBsYWJlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWNoZSB1bmlmb3JtcyBieSBuYW1lXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuc2V0Q2FjaGVzID0gZnVuY3Rpb24gKGxhYmVscykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsYWJlbHMuZm9yRWFjaChmdW5jdGlvbiAobCkgeyByZXR1cm4gX3RoaXMuc2V0KGwpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9ncmFtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFByb2dyYW07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlscy9wcm9ncmFtLnRzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Surface = (function () {\n    function Surface(gl) {\n        this.gl = gl;\n        this.buffer = this.gl.createBuffer();\n        this.centerX = 0;\n        this.centerY = 0;\n        this.width = 1;\n        this.height = 1;\n        this.isPanning = false;\n        this.isZooming = false;\n        this.lastX = 0;\n        this.lastY = 0;\n    }\n    Object.defineProperty(Surface.prototype, \"bufferData\", {\n        get: function () {\n            var halfWidth = this.width * 0.5;\n            var halfHeight = this.height * 0.5;\n            return new Float32Array([\n                this.centerX - halfWidth, this.centerY - halfHeight,\n                this.centerX + halfWidth, this.centerY - halfHeight,\n                this.centerX - halfWidth, this.centerY + halfHeight,\n                this.centerX + halfWidth, this.centerY - halfHeight,\n                this.centerX + halfWidth, this.centerY + halfHeight,\n                this.centerX - halfWidth, this.centerY + halfHeight\n            ]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Surface.prototype.reset = function (aspectRatio) {\n        this.width = this.height * aspectRatio;\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, this.bufferData, this.gl.STATIC_DRAW);\n    };\n    Surface.prototype.setPositionAttribute = function (attr) {\n        this.positionAttribute = attr;\n        this.gl.enableVertexAttribArray(this.positionAttribute);\n    };\n    return Surface;\n}());\nexports.default = Surface;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc3VyZmFjZS50cz9iNDA0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFN1cmZhY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1cmZhY2UoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuY2VudGVyWCA9IDA7XG4gICAgICAgIHRoaXMuY2VudGVyWSA9IDA7XG4gICAgICAgIHRoaXMud2lkdGggPSAxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IDE7XG4gICAgICAgIHRoaXMuaXNQYW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNab29taW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFggPSAwO1xuICAgICAgICB0aGlzLmxhc3RZID0gMDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1cmZhY2UucHJvdG90eXBlLCBcImJ1ZmZlckRhdGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBoYWxmV2lkdGggPSB0aGlzLndpZHRoICogMC41O1xuICAgICAgICAgICAgdmFyIGhhbGZIZWlnaHQgPSB0aGlzLmhlaWdodCAqIDAuNTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgICAgICB0aGlzLmNlbnRlclggLSBoYWxmV2lkdGgsIHRoaXMuY2VudGVyWSAtIGhhbGZIZWlnaHQsXG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXJYICsgaGFsZldpZHRoLCB0aGlzLmNlbnRlclkgLSBoYWxmSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyWCAtIGhhbGZXaWR0aCwgdGhpcy5jZW50ZXJZICsgaGFsZkhlaWdodCxcbiAgICAgICAgICAgICAgICB0aGlzLmNlbnRlclggKyBoYWxmV2lkdGgsIHRoaXMuY2VudGVyWSAtIGhhbGZIZWlnaHQsXG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXJYICsgaGFsZldpZHRoLCB0aGlzLmNlbnRlclkgKyBoYWxmSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyWCAtIGhhbGZXaWR0aCwgdGhpcy5jZW50ZXJZICsgaGFsZkhlaWdodFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN1cmZhY2UucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlckRhdGEsIHRoaXMuZ2wuU1RBVElDX0RSQVcpO1xuICAgIH07XG4gICAgU3VyZmFjZS5wcm90b3R5cGUuc2V0UG9zaXRpb25BdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICB0aGlzLnBvc2l0aW9uQXR0cmlidXRlID0gYXR0cjtcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnBvc2l0aW9uQXR0cmlidXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdXJmYWNlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN1cmZhY2U7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlscy9zdXJmYWNlLnRzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Target = (function () {\n    function Target(gl, width, height) {\n        this.gl = gl;\n        this.framebuffer = this.gl.createFramebuffer();\n        this.renderbuffer = this.gl.createRenderbuffer();\n        this.texture = this.gl.createTexture();\n        // set up framebuffer\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.texture);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, width, height, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.framebuffer);\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this.texture, 0);\n        // set up renderbuffer\n        this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.renderbuffer);\n        this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\n        this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.renderbuffer);\n        // clean up\n        this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n        this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, null);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    }\n    return Target;\n}());\nexports.default = Target;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGFyZ2V0LnRzPzQwN2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVGFyZ2V0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYXJnZXQoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmJ1ZmZlciA9IHRoaXMuZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAvLyBzZXQgdXAgZnJhbWVidWZmZXJcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLmdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgdGhpcy5nbC5SR0JBLCB0aGlzLmdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9TLCB0aGlzLmdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9ULCB0aGlzLmdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGhpcy5nbC5ORUFSRVNUKTtcbiAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGhpcy5nbC5URVhUVVJFX01JTl9GSUxURVIsIHRoaXMuZ2wuTkVBUkVTVCk7XG4gICAgICAgIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIpO1xuICAgICAgICB0aGlzLmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHRoaXMuZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZ2wuQ09MT1JfQVRUQUNITUVOVDAsIHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlLCAwKTtcbiAgICAgICAgLy8gc2V0IHVwIHJlbmRlcmJ1ZmZlclxuICAgICAgICB0aGlzLmdsLmJpbmRSZW5kZXJidWZmZXIodGhpcy5nbC5SRU5ERVJCVUZGRVIsIHRoaXMucmVuZGVyYnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlKHRoaXMuZ2wuUkVOREVSQlVGRkVSLCB0aGlzLmdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0aGlzLmdsLkZSQU1FQlVGRkVSLCB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlQsIHRoaXMuZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnJlbmRlcmJ1ZmZlcik7XG4gICAgICAgIC8vIGNsZWFuIHVwXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBUYXJnZXQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVGFyZ2V0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdXRpbHMvdGFyZ2V0LnRzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ]);